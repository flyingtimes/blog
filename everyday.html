<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>日课 | clark的技术博客</title>
    <meta name="description" content="记录日常点滴技术">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.fd97359f.css" as="style"><link rel="preload" href="/blog/assets/js/app.a3499603.js" as="script"><link rel="preload" href="/blog/assets/js/4.d75981d8.js" as="script"><link rel="preload" href="/blog/assets/js/2.7f01df2c.js" as="script"><link rel="preload" href="/blog/assets/js/11.1dde0139.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.7ea914db.js"><link rel="prefetch" href="/blog/assets/js/12.50475fa0.js"><link rel="prefetch" href="/blog/assets/js/13.2747ab66.js"><link rel="prefetch" href="/blog/assets/js/14.a8915311.js"><link rel="prefetch" href="/blog/assets/js/15.485dff63.js"><link rel="prefetch" href="/blog/assets/js/16.26a9cb35.js"><link rel="prefetch" href="/blog/assets/js/17.a371fabd.js"><link rel="prefetch" href="/blog/assets/js/18.00857e26.js"><link rel="prefetch" href="/blog/assets/js/3.a4413db2.js"><link rel="prefetch" href="/blog/assets/js/5.8b93cd5a.js"><link rel="prefetch" href="/blog/assets/js/6.6ad373fa.js"><link rel="prefetch" href="/blog/assets/js/7.7a8ff17b.js"><link rel="prefetch" href="/blog/assets/js/8.5a78f3e3.js"><link rel="prefetch" href="/blog/assets/js/9.f8bd3ece.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.fd97359f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">clark的技术博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><a href="/blog/everyday.html" class="nav-link router-link-exact-active router-link-active">日课</a></div><div class="nav-item"><a href="/blog/kubernetes.html" class="nav-link">K8S</a></div><div class="nav-item"><a href="/blog/toolbox.html" class="nav-link">百宝箱</a></div><div class="nav-item"><a href="/blog/listarticles.html" class="nav-link">所有文章</a></div><div class="nav-item"><a href="/blog/author.html" class="nav-link">作者简介</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><a href="/blog/everyday.html" class="nav-link router-link-exact-active router-link-active">日课</a></div><div class="nav-item"><a href="/blog/kubernetes.html" class="nav-link">K8S</a></div><div class="nav-item"><a href="/blog/toolbox.html" class="nav-link">百宝箱</a></div><div class="nav-item"><a href="/blog/listarticles.html" class="nav-link">所有文章</a></div><div class="nav-item"><a href="/blog/author.html" class="nav-link">作者简介</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>日课</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/everyday.html#先开一个坑，vuepress" class="sidebar-link">先开一个坑，vuepress</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/everyday.html#_2019-10-20" class="sidebar-link">2019.10.20</a></li><li class="sidebar-sub-header"><a href="/blog/everyday.html#_2019-10-21" class="sidebar-link">2019.10.21</a></li><li class="sidebar-sub-header"><a href="/blog/everyday.html#_2019-10-22" class="sidebar-link">2019.10.22</a></li><li class="sidebar-sub-header"><a href="/blog/everyday.html#_2019-10-23" class="sidebar-link">2019.10.23</a></li></ul></li><li><a href="/blog/everyday.html#ssh-访问内部网络" class="sidebar-link">ssh 访问内部网络</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/everyday.html#_2019-10-24" class="sidebar-link">2019.10.24</a></li></ul></li><li><a href="/blog/everyday.html#将vuejs前端项目变成跨平台手机端app" class="sidebar-link">将vuejs前端项目变成跨平台手机端app</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/everyday.html#_2010-10-26" class="sidebar-link">2010.10.26</a></li></ul></li><li><a href="/blog/everyday.html#如何自己写一个npm-的模块" class="sidebar-link">如何自己写一个npm 的模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/everyday.html#_2019-11-6" class="sidebar-link">2019.11.6</a></li><li class="sidebar-sub-header"><a href="/blog/everyday.html#_2020-2-1" class="sidebar-link">2020.2.1</a></li><li class="sidebar-sub-header"><a href="/blog/everyday.html#_2020-2-10" class="sidebar-link">2020.2.10</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="日课"><a href="#日课" class="header-anchor">#</a> 日课</h1> <p><img src="monk.jpg" alt="avatar"></p> <blockquote><p>一个人的前程，往往全靠他怎样利用闲暇时间，闲暇定终生。</p></blockquote> <p><em>每天腾出一小时来，完善自己的技术栈</em></p> <h2 id="先开一个坑，vuepress"><a href="#先开一个坑，vuepress" class="header-anchor">#</a> 先开一个坑，vuepress</h2> <blockquote><p>用vuepress搭一个github上的博客，同时作为样本深入学习下vue。</p></blockquote> <h3 id="_2019-10-20"><a href="#_2019-10-20" class="header-anchor">#</a> 2019.10.20</h3> <blockquote><p>yarn global add vuepress # 全局安装vuepress</p></blockquote> <blockquote><p>从我的blog起步，可以git clone <a href="https://github.com/flyingtimes/blog" target="_blank" rel="noopener noreferrer">https://github.com/flyingtimes/blog<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <blockquote><p>然后 yarn install &amp;&amp; vuepress dev docs</p></blockquote> <p>要学习如何做theme，首先可以<strong>弹出</strong>一份default的theme做参考，导出方法集成在vuepress-cli里面了</p> <div class="language- extra-class"><pre class="language-text"><code>vuepress eject docs
</code></pre></div><p>这时候在项目docs路径下会产生一个新的theme路径</p> <div class="language- extra-class"><pre class="language-text"><code>docs
    .vuepress
    L theme
        L components
        L global-comonents
        L layouts
        L util
        index.js
</code></pre></div><p>在docs/.vuepress/config.js中声明：我们要在default主题上扩展自定义主题</p> <div class="language-js extra-class"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
extend<span class="token punctuation">:</span> <span class="token string">'@vuepress/theme-default'</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>eject以后，原来的default主题就失效了，页面主题都以docs/.vuepress/theme为准</p></div> <p>ok，现在可以开始尝试对default主题做一些修改了
例如，要修改home页面hero图片为圆角，可以在docs/.vuepress/components/Home.vue中添加一行</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code>  <span class="token punctuation">.</span>hero
    img
      max<span class="token operator">-</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span>
      max<span class="token operator">-</span>height <span class="token number">280</span>px
      display block
      margin <span class="token number">3</span>rem auto <span class="token number">1.5</span>rem
      border<span class="token operator">-</span>radius <span class="token number">50</span>px
    text<span class="token operator">-</span>align center
</code></pre></div><p>要修改代码的底色，可以在 docs/.vuepress/styles/code.styl 中修改颜色</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br></div><pre class="language-js"><code>div<span class="token punctuation">[</span><span class="token keyword">class</span><span class="token operator">*=</span><span class="token string">&quot;language-&quot;</span><span class="token punctuation">]</span>
  position relative
  background<span class="token operator">-</span>color  #<span class="token number">389</span>d70
</code></pre></div><h3 id="_2019-10-21"><a href="#_2019-10-21" class="header-anchor">#</a> 2019.10.21</h3> <p>昨天基本搞清楚如何做自定义theme了，下来研究一下，vuepress的内部机制是如何发挥作用的。可以参考简书作者云峰的文章。</p> <p><a href="https://www.jianshu.com/p/c7b2966f9d3c" target="_blank" rel="noopener noreferrer">深入浅出 VuePress（一）：如何做到在 Markdown 中使用 Vue 语法<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://www.jianshu.com/p/a63b55b1d9cc" target="_blank" rel="noopener noreferrer">深入浅出 VuePress（二）：使用 Webpack-chain 链式生成 webpack 配置<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://www.jianshu.com/p/a95c04a68d14" target="_blank" rel="noopener noreferrer">深入浅出 VuePress（三）：使用 markdown-it 解析 markdown 代码<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://www.jianshu.com/p/b8000f6b24da" target="_blank" rel="noopener noreferrer">深入浅出 VuePress（四）：插件系统<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="_2019-10-22"><a href="#_2019-10-22" class="header-anchor">#</a> 2019.10.22</h3> <h4 id="改变markdown-it现实的效果"><a href="#改变markdown-it现实的效果" class="header-anchor">#</a> 改变markdown-it现实的效果</h4> <p>在vuepress 中使用的markdown插件，是markdown-it,在vuepress文档中有介绍，可以做一些配置，markdown-it本身还可以做插件扩展。</p> <p><a href="https://vuepress.vuejs.org/zh/guide/markdown.html#%E8%BF%9B%E9%98%B6%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener noreferrer">https://vuepress.vuejs.org/zh/guide/markdown.html#进阶配置<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>如果仅仅是要改变markdown的渲染效果，这个在vuepress的主题样式里面修改，位置在docs/.vuepress/theme/style/index.styl中</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br></div><pre class="language-js"><code>h2
  font<span class="token operator">-</span>size <span class="token number">1.65</span>rem
  padding<span class="token operator">-</span>bottom <span class="token number">.3</span>rem
  border<span class="token operator">-</span>bottom <span class="token number">1</span>px solid $borderColor
  <span class="token comment">// 改变## 的颜色</span>
  color #<span class="token number">3</span>eaf7c

h3
  font<span class="token operator">-</span>size <span class="token number">1.35</span>rem
  <span class="token comment">// 为 ### 添加下划线效果 </span>
  text<span class="token operator">-</span>decoration underline
</code></pre></div><h4 id="添加mermaid流程图组件"><a href="#添加mermaid流程图组件" class="header-anchor">#</a> 添加mermaid流程图组件</h4> <p>在page.vue中引入</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><div class="highlighted"> </div><br><br><br><br></div><pre class="language-js"><code> <span class="token operator">&lt;</span>template<span class="token operator">&gt;</span> 
  <span class="token operator">&lt;</span>main <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;page&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>mermaid <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> mermaid <span class="token keyword">from</span> <span class="token string">'../components/mermaid.vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token punctuation">:</span> <span class="token punctuation">{</span> PageEdit<span class="token punctuation">,</span> PageNav<span class="token punctuation">,</span>List<span class="token punctuation">,</span>mermaid <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>添加组件mermaid.vue</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
&lt;/template&gt;

&lt;style&gt;
div.language-mermaid {
  background-color: inherit
}
&lt;/style&gt;

&lt;script&gt;
export default {
  beforeMount() {
    import(&quot;mermaid/dist/mermaid&quot;).then(m =&gt; {
      m.initialize({
        startOnLoad: true
      });
      m.init('div.language-mermaid&gt;pre&gt;code');
    });
  }
};
&lt;/script&gt;
</code></pre></div><p>这样你就可以在md中使用流程图了</p> <div class="language- extra-class"><pre class="language-text"><code>```mermaid
graph TD
    A[Christmas] --&gt;|Get money| B(Go shopping)
    B --&gt; C{Let me think}
    C --&gt;|One| D[Laptop]
    C --&gt;|Two| E[iPhone]
    C --&gt;|Three| F[Car]
</code></pre></div><p>具体使用方法在这里有说明
<a href="https://github.com/knsv/mermaid" target="_blank" rel="noopener noreferrer">https://github.com/knsv/mermaid<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="添加一个列出所有文章的控件的方法"><a href="#添加一个列出所有文章的控件的方法" class="header-anchor">#</a> 添加一个列出所有文章的控件的方法</h4> <p>首先修改Page.vue,在其中加入List控件的呈现功能</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><br><br></div><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>main <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;page&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">...</span>
    <span class="token operator">&lt;</span>Content <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;theme-default-content&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>List v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;$page.frontmatter.showList&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">...</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> PageEdit <span class="token keyword">from</span> <span class="token string">'@theme/components/PageEdit.vue'</span>
<span class="token keyword">import</span> PageNav <span class="token keyword">from</span> <span class="token string">'@theme/components/PageNav.vue'</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">'../components/List.vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token punctuation">:</span> <span class="token punctuation">{</span> PageEdit<span class="token punctuation">,</span> PageNav<span class="token punctuation">,</span>List <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'sidebarItems'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>然后增加一个List.vue控件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;article&quot;</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;page in files&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>a v<span class="token operator">-</span>bind<span class="token punctuation">:</span>href<span class="token operator">=</span><span class="token string">&quot;page.path&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>page<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;keywords&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;keyword&quot;</span> v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;key in page.frontmatter.keywords&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>key<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">files</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$site<span class="token punctuation">.</span>pages
        <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
          <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">!</span>p<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>home<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">!</span>p<span class="token punctuation">.</span>showList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
  <span class="token operator">...</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre></div><p>最后就可以增加md页面了</p> <div class="language- extra-class"><pre class="language-text"><code>---
showList: true
---
</code></pre></div><h3 id="_2019-10-23"><a href="#_2019-10-23" class="header-anchor">#</a> 2019.10.23</h3> <h4 id="为自己的blog添加基于travis的持续集成"><a href="#为自己的blog添加基于travis的持续集成" class="header-anchor">#</a> 为自己的blog添加基于travis的持续集成</h4> <p>首先要在github上设置一个personal access token，为token取一个变量名，例如mytoken
<a href="https://github.com/settings/tokens" target="_blank" rel="noopener noreferrer">https://github.com/settings/tokens<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>然后添加一个部署文件 <a href="http://travis-deploy.sh" target="_blank" rel="noopener noreferrer">travis-deploy.sh<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> docs/.vuepress/dist
<span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> -A
<span class="token function">git</span> commit -m <span class="token string">'deploy'</span>
<span class="token function">git</span> push -f https://<span class="token variable">${mytoken}</span>@github.com/flyingtimes/blog.git master:gh-pages
</code></pre></div><p>最后添加travis的配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">language</span><span class="token punctuation">:</span> node_js
<span class="token key atrule">node_js</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;8.15.1&quot;</span>

<span class="token key atrule">cache</span><span class="token punctuation">:</span>
  <span class="token key atrule">directories</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token string">&quot;node_modules&quot;</span>

<span class="token key atrule">branches</span><span class="token punctuation">:</span>
  <span class="token key atrule">only</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> master

<span class="token key atrule">install</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> npm install <span class="token punctuation">-</span>g vuepress
  <span class="token punctuation">-</span> npm install
  <span class="token punctuation">-</span> vuepress build docs
  
<span class="token key atrule">script</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> bash ./travis_deploy.sh

</code></pre></div><p>OK，现在整个个人博客已经搭建好了，而且每一次对于master分支的提交，都会触发一次网站的构建。博客可以随时向全世界发布。
用手机打开github网页版，愉快的编辑你的md文件吧，现在这一段就是我在地铁上完成的。</p> <p>为了使项目更美观一点，在github的readme首页，可以添加持续集成的徽章。
在https://blog.csdn.net/gdky005/article/details/73330332 这篇有详细的介绍</p> <h2 id="ssh-访问内部网络"><a href="#ssh-访问内部网络" class="header-anchor">#</a> ssh 访问内部网络</h2> <h3 id="_2019-10-24"><a href="#_2019-10-24" class="header-anchor">#</a> 2019.10.24</h3> <h4 id="通过跳板机登陆内网"><a href="#通过跳板机登陆内网" class="header-anchor">#</a> 通过跳板机登陆内网</h4> <div class="language-mermaid extra-class"><pre class="language-text"><code>graph LR
  A(台式机) -- &quot;ssh(pemfile1,userB,portB)&quot; --&gt;B(跳板机) -- &quot;ssh(pemfile2,userC,portC)&quot; --&gt;C(内网服务器)
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>Host B
   HostName     B's IP
   Port         portB
   User         userB
   IdentityFile         ~/.ssh/pemfile1.pem
Host C
   HostName     C's IP
   Port         portC
   User         userC
   IdentityFile         ~/.ssh/pemfile2.pem
   ProxyCommand         ssh B nc %h %p
</code></pre></div><h4 id="跳板机不对外开放ssh，但有一个web端口开放"><a href="#跳板机不对外开放ssh，但有一个web端口开放" class="header-anchor">#</a> 跳板机不对外开放ssh，但有一个web端口开放</h4> <div class="language-mermaid extra-class"><pre class="language-text"><code>graph LR
  A(台式机) -- &quot;ssh(pemfile1,userB,portB,corkscrew_portBB)&quot; --&gt;B(跳板机,在corkscrew_portB上开启ssh代理) -- &quot;ssh(pemfile2,userC,portC)&quot; --&gt;C(内网服务器)
</code></pre></div><p>使用corkscrew，可以在服务器上将web端口复用一个ssh代理，具体做法是在apache上添加配置文件/etc/httpd/conf.d/proxy.conf</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VirtualHost</span> <span class="token attr-name"><span class="token namespace">_default_:</span>corkscrew_portBB</span><span class="token punctuation">&gt;</span></span>
    ProxyRequests on
    ProxyVia block
    AllowCONNECT 22
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Proxy</span> <span class="token attr-name">*</span><span class="token punctuation">&gt;</span></span>
        # Deny all proxying by default ...
        Require all granted
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Proxy</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Proxy</span> <span class="token attr-name">127.0.0.1</span><span class="token punctuation">&gt;</span></span>
        # Now allow proxying through localhost only
        Require all granted
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Proxy</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>VirtualHost</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这样一来，跳板机的corkscrew_portBB端口一方面可以提供http web 服务，另一方面通过这个端口将ssh代理到跳板机本地的22端口。
在客户端上，可以brew install corkscrew下载客户端，并修改配置文件</p> <div class="language- extra-class"><pre class="language-text"><code>Host B
   HostName     127.0.0.1
   Port         portB
   User         userB
   IdentityFile   ~/.ssh/pemfile1.pem
   ProxyCommand   corkscrew B的外部ip corkscrew_portBB %h %p
</code></pre></div><h4 id="将内网服务器的一个app服务暴露到台式机上"><a href="#将内网服务器的一个app服务暴露到台式机上" class="header-anchor">#</a> 将内网服务器的一个app服务暴露到台式机上</h4> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 第一组localhost:portDesktop 代表台式机上面暴露的端口</span>
<span class="token comment"># 第二组localhost:portC 代表远端服务器上面的一个app服务</span>
<span class="token function">ssh</span> -fNL localhost:portDesktop:localhost:portC serverC
</code></pre></div><p>现在，访问本机器localhost:portDesktop端口，就相当于访问serverC:portC</p> <h4 id="将内网服务器，暴露到公网"><a href="#将内网服务器，暴露到公网" class="header-anchor">#</a> 将内网服务器，暴露到公网</h4> <div class="language-mermaid extra-class"><pre class="language-text"><code>graph LR
  A(内网服务器) -- &quot;ssh(pemfile1,userB,portB)&quot; --&gt;B(公网服务器)
</code></pre></div><div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">ssh</span> -fNR portB:localhost:portA userB@B 
</code></pre></div><h2 id="将vuejs前端项目变成跨平台手机端app"><a href="#将vuejs前端项目变成跨平台手机端app" class="header-anchor">#</a> 将vuejs前端项目变成跨平台手机端app</h2> <h3 id="_2010-10-26"><a href="#_2010-10-26" class="header-anchor">#</a> 2010.10.26</h3> <p>一个普通的vuejs项目，一般是跑在浏览器上的。cordova可以通过打包技术，在app中预先开启一个浏览器，并自动打开vuejs编译好的h5。通过cordova-plugin，还可以调用手机的各类传感器、gps数据，从而实现用js模拟一个app应用。这种技术可以使一个前端vuejs开发人员，低成本的变成一个手机端开发人员。</p> <div class="language-mermaid extra-class"><pre class="language-text"><code>graph LR
  vuejs(前端应用) -- &quot;vuejs编译&quot; --&gt;cordova的打包路径www下 -- cordova打包 --&gt; 不同平台的项目代码
</code></pre></div><p>学习的话，可以先从这个项目开始
<a href="https://github.com/flyingtimes/cordova-vue-startup.git" target="_blank" rel="noopener noreferrer">https://github.com/flyingtimes/cordova-vue-startup.git<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="准备工作"><a href="#准备工作" class="header-anchor">#</a> 准备工作</h4> <div class="language- extra-class"><pre class="language-text"><code># 安装cordova，vue工具
npm install -g cordova
npm install -g vue
npm install -g vue-cli
# 为cordova 添加不同平台的编译能力
cordova platform add ios 
cordova platform add android
# 在本路径下创建一个完整的vue项目，myapp
vue init webpack myapp
cd myapp
</code></pre></div><p>在myapp目录下，要修改一下build这个动作的输出(config/index.js)，将输出发布到项目根目录的www路径下</p> <div class="language-js extra-class"><pre class="language-js"><code>build<span class="token punctuation">:</span><span class="token punctuation">{</span>
<span class="token operator">...</span>
index<span class="token punctuation">:</span>  <span class="token operator">=&gt;</span> <span class="token string">'../../www/index.html'</span>
assetsRoot<span class="token punctuation">:</span>  <span class="token operator">=&gt;</span> <span class="token string">'../../www'</span>
assetsPublicPath<span class="token punctuation">:</span>  <span class="token operator">=&gt;</span> <span class="token string">''</span>
<span class="token punctuation">}</span>
事实上，目录结构不一定按照本项目来，最主要的就是要将index、assetsRoot、PublicPath改到cordova的www目录下，便于打包。
</code></pre></div><h4 id="开发vuejs手机端应用"><a href="#开发vuejs手机端应用" class="header-anchor">#</a> 开发vuejs手机端应用</h4> <p>现在你可以在myapp基础上，扩展你的应用内容</p> <h4 id="编译"><a href="#编译" class="header-anchor">#</a> 编译</h4> <div class="language- extra-class"><pre class="language-text"><code>cd myapp
npm run build
cd ../
cordova build ios #或者
cordova build android
</code></pre></div><h4 id="手机端编译"><a href="#手机端编译" class="header-anchor">#</a> 手机端编译</h4> <p>如果是web或者android，只要android开发环境装好了，那就可以直接出来apk或者h5的内容了。但是如果是ios，还需要在xocde里面，打开编译好的路径，再用xcode编译一次。这样才能大功告成。</p> <h2 id="如何自己写一个npm-的模块"><a href="#如何自己写一个npm-的模块" class="header-anchor">#</a> 如何自己写一个npm 的模块</h2> <h3 id="_2019-11-6"><a href="#_2019-11-6" class="header-anchor">#</a> 2019.11.6</h3> <blockquote><p>要坚持写日课还挺难的，一眨眼又停更了1周。佩服那些每天写小说的。</p></blockquote> <h4 id="几个必须的步骤需要准备"><a href="#几个必须的步骤需要准备" class="header-anchor">#</a> 几个必须的步骤需要准备</h4> <ul><li>到npmjs.org注册账号</li> <li>npm login 自己的账号</li> <li>registry要设置到官网</li> <li>npm init(每次修改要执行，并更新版本号)</li> <li>npm publish</li></ul> <p>举个例子，你创建一个模块项目,在根目录生产index.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'you enter name is :%s'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> print<span class="token punctuation">;</span>
</code></pre></div><p>然后注册你的这个模块your-module</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> init
<span class="token function">npm</span> publish
</code></pre></div><p>npm init的时候会问一些个人信息，模块信息，回答完毕后就发布啦
这时候，在任何你的项目里面可以下载这个模块了</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> your-module
</code></pre></div><p>main.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> print <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'your-module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'welcome you!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="包不需要的时候想要删除"><a href="#包不需要的时候想要删除" class="header-anchor">#</a> 包不需要的时候想要删除</h4> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> unpublish your-module --force 
</code></pre></div><blockquote><p>按照上面的思路，我成功的发布了我的第一个模块，这是一个markdown-it 插件，<a href="https://github.com/flyingtimes/markdown-it-alarm" target="_blank" rel="noopener noreferrer">https://github.com/flyingtimes/markdown-it-alarm<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h3 id="_2020-2-1"><a href="#_2020-2-1" class="header-anchor">#</a> 2020.2.1</h3> <h4 id="用rsync将目录备份到远程服务器"><a href="#用rsync将目录备份到远程服务器" class="header-anchor">#</a> 用rsync将目录备份到远程服务器</h4> <p>新冠病毒阴霾下，突然发现自己已经停更了三个月了。惭愧惭愧。</p> <div class="language- extra-class"><pre class="language-text"><code>rsync -av --progress [src_dir] user@host/[work_path]
例如:
rsync -av --progress . root@naslocal/root/Rsync/

</code></pre></div><h3 id="_2020-2-10"><a href="#_2020-2-10" class="header-anchor">#</a> 2020.2.10</h3> <h4 id="一个好的php入门网站"><a href="#一个好的php入门网站" class="header-anchor">#</a> 一个好的php入门网站</h4> <p><a href="https://laravel-china.github.io/php-the-right-way/" target="_blank" rel="noopener noreferrer">https://laravel-china.github.io/php-the-right-way/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="laravel-控制反转相关内容"><a href="#laravel-控制反转相关内容" class="header-anchor">#</a> laravel 控制反转相关内容</h4> <p><a href="https://segmentfault.com/a/1190000015072320" target="_blank" rel="noopener noreferrer">https://segmentfault.com/a/1190000015072320<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <!----> <footer class="page-edit"><!----> <!----></footer> <div></div> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.a3499603.js" defer></script><script src="/blog/assets/js/4.d75981d8.js" defer></script><script src="/blog/assets/js/2.7f01df2c.js" defer></script><script src="/blog/assets/js/11.1dde0139.js" defer></script>
  </body>
</html>
